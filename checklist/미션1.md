## ë¯¸ì…˜1: íšŒì› ê°€ì…, ì‚¬ìš©ì ëª©ë¡, ì§ˆë¬¸í•˜ê¸° êµ¬í˜„

### âœ” ê° ê¸°ëŠ¥ì— ë”°ë¥¸ urlê³¼ ë©”ì†Œë“œ convention
- ê° ê¸°ëŠ¥ì— ëŒ€í•œ ëŒ€í‘œ urlì„ ê²°ì •
    - `/users` : íšŒì›ê´€ë¦¬ ê¸°ëŠ¥ ëŒ€í‘œ url

### âœ” Template engine ì¶”ê°€ ì„¤ì •
- [X] **handlebars** ì„¤ì •
    - ì˜ì¡´ì„± ì¶”ê°€  ( [ì°¸ê³  ë§í¬](github.com/allegro/handlebars-spring-boot-starter) )
      ```java
          dependencies {
              compile 'pl.allegro.tech.boot:handlebars-spring-boot-starter:0.3.2'
          }
      ```

    - Configuration ì„¤ì •
        - application.properties
          ```java
            handlebars.suffix=.html
            handlebars.cache=false
          ```


### íšŒì›ê°€ì… ê¸°ëŠ¥ êµ¬í˜„

- [X] íšŒì›ê°€ì… í˜ì´ì§€ `static/user/form.html` (static -> templates ì´ë™)
- [X] ì‚¬ìš©ì ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„ì„ ë‹´ë‹¹í•  UserControllerë¥¼ ì¶”ê°€í•˜ê³  @Controller ì• ë…¸í…Œì´ì…˜ ë§µí•‘(ì¶”ê°€)
- [X] POST ë©”ì†Œë“œ
    - íšŒì›ê°€ì…í•˜ê¸° ìš”ì²­(POST ìš”ì²­ @PostMapping)ì„ ì²˜ë¦¬í•  ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ê³  URL ë§¤í•‘í•œë‹¤.
- [X] User ê°ì²´ ë§¤í•‘
    - ì‚¬ìš©ìê°€ ì „ë‹¬í•œ ê°’ì„ User í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ ì €ì¥í•œë‹¤.
- [X] User í´ë˜ìŠ¤ setter/getter
    - User í´ë˜ìŠ¤ íšŒì›ê°€ì…í•  ë•Œ ì „ë‹¬í•œ ê°’ì„ ì €ì¥í•  ìˆ˜ ìˆëŠ” í•„ë“œë¥¼ ìƒì„±í•œ í›„ setterì™€ getter ë©”ì†Œë“œë¥¼ ìƒì„±í•œë‹¤.
- [X] ì‚¬ìš©ì ëª©ë¡ ArrayList
    - ì‚¬ìš©ì ëª©ë¡ì„ ê´€ë¦¬í•˜ëŠ” ArrayListë¥¼ ìƒì„±í•œ í›„ ì•ì—ì„œ ìƒì„±í•œ User ì¸ìŠ¤í„´ìŠ¤ë¥¼ ArrayListì— ì €ì¥í•œë‹¤.
- [X] ë¦¬ë””ë ‰ì…˜
    - ì‚¬ìš©ì ì¶”ê°€ë¥¼ ì™„ë£Œí•œ í›„ ì‚¬ìš©ì ëª©ë¡ í˜ì´ì§€("redirect:/users")ë¡œ ì´ë™í•œë‹¤.


### íšŒì›ëª©ë¡ ê¸°ëŠ¥ êµ¬í˜„

- [X] íšŒì›ëª©ë¡ í˜ì´ì§€ `static/user/list.html` (static -> templates ì´ë™)
- [X] GET ë©”ì†Œë“œ
    - íšŒì›ëª©ë¡ ìš”ì²­(GET ìš”ì²­ @GetMapping)ì„ ì²˜ë¦¬í•  ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ê³  URL ë§¤í•‘
- [X] ëª¨ë¸ì— ì‚¬ìš©ì ëª©ë¡ ë°ì´í„° ì €ì¥
    - Modelì„ ë©”ì†Œë“œì˜ ì¸ìë¡œ ë°›ì€ í›„ Modelì— ì‚¬ìš©ì ëª©ë¡ì„ usersë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.
- [X] ë·° ë¦¬í„´
    - ì‚¬ìš©ì ëª©ë¡ì„ user/list.htmlë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•´ ë©”ì†Œë“œ ë°˜í™˜ ê°’ì„ `"user/list"`ë¡œ í•œë‹¤.
- [X] ì¶œë ¥
    - user/list.html ì—ì„œ ì‚¬ìš©ì ëª©ë¡ì„ ì¶œë ¥í•œë‹¤.
  ```java
    {{#users}}
        // ë°ì´í„° ì¡°íšŒ
    {{/users}}
  ```
    - Controller í´ë˜ìŠ¤ëŠ” íšŒì›ê°€ì…í•˜ê¸° ê³¼ì •ì—ì„œ ì¶”ê°€í•œ UserControllerë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤.

### íšŒì› í”„ë¡œí•„ ì •ë³´ë³´ê¸°

- [X] íšŒì› í”„ë¡œí•„ ë³´ê¸° í˜ì´ì§€ `static/user/profile.html` (static -> templates ì´ë™)

- [X] í˜ì´ì§€ ì´ë™
    - ì• ë‹¨ê³„ì˜ ì‚¬ìš©ì ëª©ë¡ htmlì¸ user/list.html íŒŒì¼ì— ë‹‰ë„¤ì„ì„ í´ë¦­í•˜ë©´ í”„ë¡œí•„ í˜ì´ì§€ë¡œ ì´ë™í•˜ë„ë¡ í•œë‹¤.
    - htmlì—ì„œ í˜ì´ì§€ ì´ë™ì€ <a /> íƒœê·¸ë¥¼ ì´ìš©í•´ ê°€ëŠ¥í•˜ë‹¤.
      ```html 
      <a href="/users/{{userId}}" />
      ```

- [X] GET ë©”ì†Œë“œ
    - íšŒì›í”„ë¡œí•„ ìš”ì²­(GET ìš”ì²­ @GetMapping)ì„ ì²˜ë¦¬í•  ë©”ì†Œë“œë¥¼ ì¶”ê°€í•˜ê³  URL ë§¤í•‘ (`/users/{userId}`)

- [X] @PathVariable ì• ë…¸í…Œì´ì…˜
    - URLì„ í†µí•´ ì „ë‹¬í•œ ì‚¬ìš©ì ì•„ì´ë”” ê°’ì€ @PathVariable ì• ë…¸í…Œì´ì…˜ì„ í™œìš©í•´ ì „ë‹¬ ë°›ì„ ìˆ˜ ìˆë‹¤.

- [X] ëª¨ë¸ì— íŠ¹ì • ë°ì´í„° ì €ì¥
    - ArrayListì— ì €ì¥ë˜ì–´ ìˆëŠ” ì‚¬ìš©ì ì¤‘ ì‚¬ìš©ì ì•„ì´ë””ì™€ ì¼ì¹˜í•˜ëŠ” User ë°ì´í„°ë¥¼ Modelì— ì €ì¥í•œë‹¤.

- [X] ì¶œë ¥
    - user/profile.html ì—ì„œëŠ” Controllerì—ì„œ ì „ë‹¬í•œ User ë°ì´í„°ë¥¼ í™œìš©í•´ ì‚¬ìš©ì ì •ë³´ë¥¼ ì¶œë ¥í•œë‹¤.

- Controller í´ë˜ìŠ¤ëŠ” ì• ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•œ UserControllerë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤.

## ë¦¬í™í† ë§

### HTMLì˜ ì¤‘ë³µ ì œê±°
>index.html, /user/form.html, /qna/form.html ì½”ë“œë¥¼ ë³´ë©´ header, navigation bar, footer ë¶€ë¶„ì— ë§ì€ ì¤‘ë³µ ì½”ë“œê°€ ìˆë‹¤. ì¤‘ë³µ ì½”ë“œë¥¼ ì œê±°í•œë‹¤.

ğŸ‘€ **html ì¤‘ë³µ ì œê±° íŒíŠ¸**

- [X] ì¤‘ë³µ ì½”ë“œê°€ ë°œìƒí•˜ëŠ” ë¶€ë¶„ì„ ë³„ë„ì˜ template íŒŒì¼ë¡œ ë¶„ë¦¬í•œë‹¤.

### URLê³¼ html ì‰½ê²Œ ì—°ê²°í•˜ê¸°
> ì• ë‹¨ê³„ì™€ ê°™ì´ htmlì—ì„œ ì¤‘ë³µì„ ì œê±°í•˜ëŠ” ê¸°ëŠ¥ì€ handlebars.java template engineì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.
ë”°ë¼ì„œ ëª¨ë“  htmlì˜ ì¤‘ë³µì„ ì œê±°í•˜ë ¤ë©´ staticì˜ html ë˜í•œ templates í´ë”ë¡œ ì´ë™í•˜ê³  URL ë§¤í•‘ì„ í•´ì•¼ í•œë‹¤.
ê·¸ëŸ°ë° ì´ì™€ ê°™ì´ êµ¬í˜„í•  ê²½ìš° íŠ¹ë³„í•œ ë¡œì§ì´ ì—†ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ë§¤ë²ˆ ë©”ì†Œë“œë¥¼ ë§Œë“¤ê³  ë§¤í•‘í•˜ëŠ” ì¼ì´ ê·€ì°®ì€ ì‘ì—…ì´ë‹¤. ì´ ê°™ì€ ë‹¨ì ì„ ì•„ë˜ MvcConfig í´ë˜ìŠ¤ë¡œ ë³´ì™„í•  ìˆ˜ ìˆë‹¤.
- [X] config íŒ¨í‚¤ì§€ ìƒì„±
- [X] MvcConfig í´ë˜ìŠ¤ ìƒì„±
 ```java
 @Configuration
public class MvcConfig extends WebMvcConfigurerAdapter {
  @Override
  public void addViewControllers(ViewControllerRegistry registry) {
    registry.setOrder(Ordered.HIGHEST_PRECEDENCE);
    registry.addViewController("/users/form").setViewName("user/form");
    registry.addViewController("/users/login").setViewName("user/login");
    registry.addViewController("/questions/form").setViewName("qna/form");
  }
}
 ```

### ê·¸ë°–ì˜ ë¦¬í™í† ë§
- [X] ì»¨íŠ¸ë¡¤ëŸ¬ ê³µí†µ url ë¬¶ì–´ì£¼ê¸°
  - UserControllerì˜ "users"
  - QuestionControllerì˜ "questions"
- [ ] qna ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ì•„ë˜ web ë””ë ‰í† ë¦¬ ì¶”ê°€

### ì§ˆë¬¸í•˜ê¸° ê¸°ëŠ¥ êµ¬í˜„

- [X] QuestionController êµ¬í˜„
  - ì§ˆë¬¸í•˜ê¸° ê¸°ëŠ¥ êµ¬í˜„ ë‹´ë‹¹
  - @Controller ì–´ë…¸í…Œì´ì…˜ ë§¤í•‘
  
- [X] index.htmlì—ì„œ ì§ˆë¬¸í•˜ê¸° ì¹´í…Œê³ ë¦¬ url ë§í¬ ìˆ˜ì •
  - url ë§í¬ : "/questions/form"
  - ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ì¶”ê°€ : MvcConfig í´ë˜ìŠ¤ì—ì„œ url ê²½ë¡œ "/questions/form"ì™€ ë·° "qna/form" ë§¤í•‘

- [X] Question í´ë˜ìŠ¤ êµ¬í˜„
  - getter/setter êµ¬í˜„
  - í•„ë“œ ê°’
    - String writer
    - String title
    - String contents

- [X] qna/form.htmlì—ì„œ url ë§í¬ ìˆ˜ì •
  - ì§ˆë¬¸í•˜ê¸° formì˜ action url ë§í¬ ìˆ˜ì •
    â†’ url ë§í¬ : "/questions"

- [X] POST ë©”ì†Œë“œ create()
  - @PostMapping("/questions") 
  - ì§ˆë¬¸ ê´€ë ¨ ë°ì´í„° ì €ì¥
  - ë¦¬ë””ë ‰ì…˜ : "redirect:/" ë¦¬í„´
  
- [X] Question í´ë˜ìŠ¤ í•„ë“œ ì¶”ê°€
  - id ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ì¶”ê°€

- [X] Question id ì—…ë°ì´íŠ¸
  - create() í˜¸ì¶œ ì‹œ (ArrayListì— ì§ˆë¬¸ ê°ì²´ë¥¼ ì¶”ê°€ ì‹œ) ì§ˆë¬¸ ê°ì²´ id ëŠ” ArrayList.size() + 1
  
### ì§ˆë¬¸ ëª©ë¡ ê¸°ëŠ¥ êµ¬í˜„

- [X] GET ë©”ì†Œë“œ
  - @GetMapping("/")
  - ë·°(ì§ˆë¬¸ ëª©ë¡ ì¡°íšŒ í˜ì´ì§€) ë¦¬í„´
    - "qna/show" ë·° ë¦¬í„´

- [X] ì§ˆë¬¸ ëª©ë¡ ê´€ë¦¬ ArrayList
  - List<Question> questions, QuestionController í•„ë“œì— ìƒì„±
  - create() POST ë©”ì†Œë“œì—ì„œ ì¸ìë¡œ ë°›ì€ question ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì§ˆë¬¸ ëª©ë¡ì— ì €ì¥
    â†’ questions.add(question)
    
- [X] ì§ˆë¬¸ ìƒì„¸ í˜ì´ì§€ ì ‘ê·¼ URL "/questions/{index}"
  - ì§ˆë¬¸ ëª©ë¡ ê´€ë¦¬ ArrayListì—ì„œ index - 1 í•´ë‹¹í•˜ëŠ” ë°ì´í„° ì¡°íšŒ
  - í•´ë‹¹ ë°ì´í„°ë¥¼ Modelì— ì €ì¥
  - "/qna/show" ë·° ë¦¬í„´
  
### ê²ªì—ˆë˜ ë¬¸ì œ

- WARNING: Illegal reflective access by com.github.jknack.handlebars.context.MemberValueResolver ë°œìƒ
  - [ë§í¬](https://github.com/jknack/handlebars.java/issues/667)ì— ë³´ë©´ java 8-11ê¹Œì§€ëŠ” í•´ë‹¹ warnningì´ ì‘ë™í•˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ì•˜ë‹¤.
  - í˜„ì¬ í”„ë¡œì íŠ¸ê°€ openjdk-15ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ jdk1.8ë¡œ ë°”ê¿”ì£¼ì—ˆë‹¤.


  
